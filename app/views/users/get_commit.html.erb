<% 
    require "rubygems"
    require 'octokit'

@name = "KentaYoshitani"
@ex_repo = "new_repo_test"
options = {
auto_paginate: true,
#access_token:"e1327bad54bd4d6d144f7bc7af0abfd33767591e"
}

# Clientオブジェクトを生成
@client = Octokit::Client.new(options)

# Repositories情報を取得
repos = @client.repositories(@name)

# リポジトリ情報の出力
repos.each do |repo|
puts "name: #{repo.name}, language: #{repo.language}"
puts "url: #{repo.url}"
# puts "repository info = #{repo.attrs}"
puts ""
end

repo = "KentaYoshitani/github.test"
ref = "master"
commits = @client.commits(repo)

commits.each do |commit|
  puts "committer: #{commit.commit.committer.name}, message: #{commit.commit.message}"
end
%>
